# Adding a new participant to the NLNOG RING

## Requirements

* [x] Receipt of application form: https://ring.nlnog.net/contact/application-form/

## Pre-flight checks
* [x] Check if we can log onto the participant's node using details from the form
* [x] Check if the `/` partition is at least 20GB
* [x] Check if the `/boot` partition is at least 1GB (if present)
* [x] Check if we can `sudo`
* [x] check if DNS resolving works

## Add the participant to the database
On `dbmaster.infra.ring.nlnog.net`:
```
ring-admin add participant $company "$contact" $email $nocemail $username "$companydescription" $url
```
(this command is available in the mail generated by the submission form)

Wait for a while, or run `ring-admin ansible deploy` on the machine if you have a working SSH-agent.

## Create the user
On any device with working Ansible and admin SSH keys available:
```
ansible-playbook -i nodes --extra-vars "username=$username" -l auth.infra.ring.nlnog.net provision-ring-user.yml
```

## Place SSH keys
On `manage.ring.nlnnog.net`:
* [x] place the ssh keys provided in the application form in `~${username}/ssh-keys`
* [x] make sure the owner can modify the file: `chown $username.$username ~{$username}/ssh-keys`


## Add a machine
* [x] Follow the steps to [add a new machine](add_new_machine.md)

## Add a logo
On any machine with write access to the [ring-web repository](https://github.com/nlnog/ring-web):

```
convert -resize 200x100 $image $ring-web/content/images/ring-logos/$owner.png
cd $ring-web
git add content/images/ring-logos/*
git commit -m 'added logo for $owner' content/images/ring-logos/*
git push
```

## Announce the new participant
On `dbmaster.infra.ring.nlnog.net`:
* [x] Send a welcome mail to the participant: `ring-admin send welcomemail $username`
* [x] Send mail to the ring-users list: `ring-admin send announcemail $username`
* [x] Add a news entry on the website `ring-admin publish hugopost $username`

